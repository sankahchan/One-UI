import{u as a}from"./useQuery-CtMNJR7o.js";import{b as r}from"./index-31dYUl1e.js";import{u as t}from"./useMutation-ClUFm1k_.js";import{r as n,a as y,b as o,c as u,d as l,e as d,u as c,f as v,s as q,h as p,i as f,j as g,g as K,k as x,l as X,m as Q,n as h,o as m,p as C,q as F,t as S,v as U,w as R}from"./xray-0RSqElo8.js";const P=(e={})=>{const s=e.refetchInterval===void 0?1e4:e.refetchInterval,i=e.staleTime===void 0?5e3:e.staleTime;return a({queryKey:["online-users"],queryFn:K,refetchInterval:s,staleTime:i})},D=()=>a({queryKey:["xray-status"],queryFn:x,refetchInterval:15e3,staleTime:5e3}),G=(e=!1)=>a({queryKey:["xray-config"],queryFn:X,enabled:e,staleTime:1e4}),H=()=>{const e=r();return t({mutationFn:o,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-status"]}),e.invalidateQueries({queryKey:["xray-config"]}),e.invalidateQueries({queryKey:["online-users"]})}})},j=()=>{const e=r();return t({mutationFn:y,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-status"]}),e.invalidateQueries({queryKey:["xray-config"]}),e.invalidateQueries({queryKey:["online-users"]})}})},w=()=>a({queryKey:["xray-update-policy"],queryFn:Q,refetchInterval:3e4,staleTime:1e4}),B=(e=!0)=>a({queryKey:["xray-update-preflight"],queryFn:h,enabled:e,refetchInterval:15e3,staleTime:5e3}),O=(e=1,s=20)=>a({queryKey:["xray-update-history",e,s],queryFn:()=>m({page:e,limit:s}),refetchInterval:15e3,staleTime:5e3}),M=()=>{const e=r();return t({mutationFn:p,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-update-policy"]}),e.invalidateQueries({queryKey:["xray-update-preflight"]}),e.invalidateQueries({queryKey:["xray-update-history"]}),e.invalidateQueries({queryKey:["xray-status"]})}})},z=()=>{const e=r();return t({mutationFn:f,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-update-policy"]}),e.invalidateQueries({queryKey:["xray-update-preflight"]}),e.invalidateQueries({queryKey:["xray-update-history"]}),e.invalidateQueries({queryKey:["xray-status"]}),e.invalidateQueries({queryKey:["xray-config"]}),e.invalidateQueries({queryKey:["online-users"]})}})},A=(e=!0)=>a({queryKey:["xray-update-backups"],queryFn:C,enabled:e,refetchInterval:e?3e4:!1,staleTime:1e4}),E=()=>{const e=r();return t({mutationFn:g,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-update-policy"]}),e.invalidateQueries({queryKey:["xray-update-preflight"]}),e.invalidateQueries({queryKey:["xray-update-history"]}),e.invalidateQueries({queryKey:["xray-update-backups"]}),e.invalidateQueries({queryKey:["xray-status"]}),e.invalidateQueries({queryKey:["xray-config"]}),e.invalidateQueries({queryKey:["online-users"]})}})},J=()=>{const e=r();return t({mutationFn:n,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-update-preflight"]}),e.invalidateQueries({queryKey:["xray-update-policy"]}),e.invalidateQueries({queryKey:["xray-update-history"]})}})},L=(e=!0)=>a({queryKey:["xray-update-release-intel"],queryFn:()=>u(),enabled:e,refetchInterval:3e5,staleTime:6e4}),N=()=>{const e=r();return t({mutationFn:()=>u({force:!0}),onSuccess:s=>{e.setQueryData(["xray-update-release-intel"],s)}})},V=(e=!0)=>a({queryKey:["xray-config-snapshots"],queryFn:()=>F({limit:50}),enabled:e,refetchInterval:3e4,staleTime:5e3}),W=()=>{const e=r();return t({mutationFn:l,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-config-snapshots"]})}})},Y=()=>{const e=r();return t({mutationFn:d,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-config-snapshots"]}),e.invalidateQueries({queryKey:["xray-status"]}),e.invalidateQueries({queryKey:["xray-config"]})}})},Z=(e=!0)=>a({queryKey:["xray-routing-profile"],queryFn:S,enabled:e,staleTime:1e4}),_=()=>{const e=r();return t({mutationFn:c,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-routing-profile"]}),e.invalidateQueries({queryKey:["xray-config"]}),e.invalidateQueries({queryKey:["xray-status"]})}})},$=(e=!0)=>a({queryKey:["xray-geodata-status"],queryFn:()=>U({includeHash:!1}),enabled:e,refetchInterval:6e4,staleTime:5e3}),ee=()=>{const e=r();return t({mutationFn:v,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-geodata-status"]}),e.invalidateQueries({queryKey:["xray-config"]}),e.invalidateQueries({queryKey:["xray-status"]})}})},ae=(e=!0)=>a({queryKey:["xray-confdir-status"],queryFn:R,enabled:e,refetchInterval:6e4,staleTime:5e3}),re=()=>{const e=r();return t({mutationFn:q,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-confdir-status"]})}})};export{P as a,w as b,J as c,D as d,G as e,j as f,H as g,O as h,A as i,L as j,N as k,V as l,W as m,Y as n,Z as o,_ as p,$ as q,ee as r,ae as s,re as t,B as u,M as v,z as w,E as x};
