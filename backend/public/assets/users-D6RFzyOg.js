import{apiClient as r}from"./client-BGuC3Iby.js";const o={list:async(e={})=>r.get("/groups",{params:e}),getById:async e=>r.get(`/groups/${e}`),create:async e=>r.post("/groups",e),update:async(e,s)=>r.put(`/groups/${e}`,s),delete:async e=>r.delete(`/groups/${e}`),addUsers:async(e,s)=>r.post(`/groups/${e}/users/add`,{userIds:s}),removeUsers:async(e,s)=>r.post(`/groups/${e}/users/remove`,{userIds:s}),moveUsers:async(e,s)=>r.post(`/groups/${e}/users/move`,{userIds:s}),setInbounds:async(e,s)=>r.put(`/groups/${e}/inbounds`,{inboundIds:s}),applyPolicy:async(e,s={})=>r.post(`/groups/${e}/policy/apply`,s),listTemplates:async(e={})=>r.get("/groups/templates",{params:e}),getTemplateById:async e=>r.get(`/groups/templates/${e}`),createTemplate:async e=>r.post("/groups/templates",e),updateTemplate:async(e,s)=>r.put(`/groups/templates/${e}`,s),deleteTemplate:async e=>r.delete(`/groups/templates/${e}`),applyTemplateToGroup:async(e,s)=>r.post(`/groups/${e}/policy/template`,s),listSchedules:async(e={})=>r.get("/groups/policy-schedules",{params:e}),getScheduleById:async e=>r.get(`/groups/policy-schedules/${e}`),createSchedule:async e=>r.post("/groups/policy-schedules",e),updateSchedule:async(e,s)=>r.put(`/groups/policy-schedules/${e}`,s),deleteSchedule:async e=>r.delete(`/groups/policy-schedules/${e}`),runSchedule:async e=>r.post(`/groups/policy-schedules/${e}/run`),listRollouts:async(e={})=>r.get("/groups/policy-rollouts",{params:e}),getUserEffectiveInbounds:async e=>r.get(`/users/${e}/effective-inbounds`),getUserEffectivePolicy:async e=>r.get(`/users/${e}/effective-policy`)},n={getUsers:async(e={})=>r.get("/users",{params:e}),getUserById:async e=>r.get(`/users/${e}`),getUserSessions:async(e=[],s={})=>r.get("/users/sessions",{params:{userIds:e.join(","),includeOffline:s.includeOffline??!0,limit:s.limit}}),getUserSession:async e=>r.get(`/users/${e}/session`),getUserDevices:async(e,s=60)=>r.get(`/users/${e}/devices`,{params:{windowMinutes:s}}),revokeUserDevice:async(e,s)=>r.delete(`/users/${e}/devices/${encodeURIComponent(s)}`),disconnectUserSessions:async e=>r.post(`/users/${e}/sessions/disconnect`),createUser:async e=>r.post("/users",e),bulkCreateUsers:async e=>r.post("/users/bulk/create",e),updateUser:async(e,s)=>r.put(`/users/${e}`,s),deleteUser:async e=>r.delete(`/users/${e}`),resetTraffic:async e=>r.post(`/users/${e}/reset-traffic`),rotateKeys:async(e,s={})=>r.post(`/users/${e}/keys/rotate`,s),revokeKeys:async(e,s={})=>r.post(`/users/${e}/keys/revoke`,s),regenerateSubscriptionToken:async e=>r.post(`/users/${e}/subscription/regenerate`),extendExpiry:async(e,s)=>r.post(`/users/${e}/extend-expiry`,{days:s}),toggleUserInbound:async(e,s,t)=>r.post(`/users/${e}/inbounds/${s}/toggle`,t===void 0?{}:{enabled:t}),updateUserInboundPriority:async(e,s,t)=>r.patch(`/users/${e}/inbounds/${s}/priority`,{priority:t}),reorderUserInbounds:async(e,s)=>r.post(`/users/${e}/inbounds/reorder`,{assignments:s}),previewUserInboundPatternReorder:async(e,s="myanmar")=>r.post(`/users/${e}/inbounds/reorder-pattern/preview`,{pattern:s}),reorderUserInboundsByPattern:async(e,s={})=>r.post(`/users/${e}/inbounds/reorder-pattern`,s),bulkReorderUserInboundsByPattern:async e=>r.post("/users/bulk/inbounds/reorder-pattern",e),previewUserInboundQualityReorder:async(e,s={})=>r.post(`/users/${e}/inbounds/reorder-quality/preview`,s),reorderUserInboundsByQuality:async(e,s={})=>r.post(`/users/${e}/inbounds/reorder-quality`,s),bulkReorderUserInboundsByQuality:async e=>r.post("/users/bulk/inbounds/reorder-quality",e),getSubscriptionInfo:async e=>r.get(`/users/${e}/subscription`),getUserActivity:async(e,s={})=>r.get(`/users/${e}/activity`,{params:s}),bulkRotateKeys:async(e,s={})=>r.post("/users/bulk/keys/rotate",{userIds:e,...s}),bulkRevokeKeys:async(e,s={})=>r.post("/users/bulk/keys/revoke",{userIds:e,...s}),bulkAssignInbounds:async e=>r.post("/users/bulk/assign-inbounds",e)},a=async(e,s={})=>(await n.getUserSessions(e,s)).data??{total:0,online:0,sessions:[],generatedAt:new Date().toISOString()},c=async e=>{const s=await n.bulkCreateUsers(e);if(!s.data)throw new Error(s.message||"Failed to create users in bulk");return s.data},p=async(e,s={})=>{const t=await n.getUserActivity(e,s);if(!t.data)throw new Error(t.message||"Failed to load user activity");return t.data},i=async(e,s={})=>{const t=await n.rotateKeys(e,s);if(!t.data)throw new Error(t.message||"Failed to rotate user keys");return t.data},y=async(e,s={})=>{const t=await n.revokeKeys(e,s);if(!t.data)throw new Error(t.message||"Failed to revoke user keys");return t.data},d=async e=>{const s=await n.regenerateSubscriptionToken(e);if(!s.data)throw new Error(s.message||"Failed to regenerate subscription token");return s.data},l=async e=>(await r.post("/users/bulk/delete",{userIds:e})).data??{},g=async e=>(await r.post("/users/bulk/reset-traffic",{userIds:e})).data??{},b=async(e,s)=>(await r.post("/users/bulk/extend-expiry",{userIds:e,days:s})).data??{},k=async(e,s)=>(await r.post("/users/bulk/update-status",{userIds:e,status:s})).data??{},$=async(e,s={})=>(await n.bulkRotateKeys(e,s)).data??{updatedCount:0,users:[]},U=async(e,s={})=>(await n.bulkRevokeKeys(e,s)).data??{updatedCount:0};export{l as a,c as b,g as c,b as d,k as e,y as f,o as g,d as h,$ as i,U as j,a as k,p as l,i as r,n as u};
