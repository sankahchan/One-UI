const y=[{id:"v2rayng",name:"V2RayNG",icon:"ðŸš€",platforms:["android"],description:"Fast V2Ray client for Android.",usesFormat:"v2ray",urlScheme:"v2rayng://install-sub?url={url}",storeUrl:{android:"https://play.google.com/store/apps/details?id=com.v2ray.ang"}},{id:"hiddify",name:"Hiddify",icon:"ðŸ›¡ï¸",platforms:["android","ios","windows"],description:"User-friendly client with strong anti-DPI support.",usesFormat:"v2ray",urlScheme:"hiddify://import/{url}",storeUrl:{android:"https://play.google.com/store/apps/details?id=app.hiddify.com",ios:"https://apps.apple.com/app/hiddify-proxy-vpn/id6596777532",windows:"https://github.com/hiddify/hiddify-next/releases/latest"}},{id:"clash",name:"Clash",icon:"âš¡",platforms:["android","windows"],description:"Profiles-based client (Clash/Meta ecosystem).",usesFormat:"clash",urlScheme:"clash://install-config?url={url}",storeUrl:{android:"https://github.com/MetaCubeX/ClashMetaForAndroid/releases/latest",windows:"https://github.com/MetaCubeX/mihomo/releases/latest"}},{id:"shadowrocket",name:"Shadowrocket",icon:"ðŸ›°ï¸",platforms:["ios"],description:"Popular iOS client.",usesFormat:"v2ray",urlScheme:"shadowrocket://add/sub?url={url}",storeUrl:{ios:"https://apps.apple.com/app/shadowrocket/id932747118"}},{id:"v2box",name:"V2Box",icon:"ðŸ“¦",platforms:["ios"],description:"Modern iOS client with subscription support.",usesFormat:"v2ray",urlScheme:"v2box://install-sub?url={url}",storeUrl:{ios:"https://apps.apple.com/app/v2box-v2ray-client/id6446814690"}},{id:"v2rayn",name:"v2rayN",icon:"ðŸ’»",platforms:["windows"],description:"Windows client (import the URL inside the app).",usesFormat:"v2ray",storeUrl:{windows:"https://github.com/2dust/v2rayN/releases/latest"}}];function S(){if(typeof window>"u")return"windows";const o=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(o)?"ios":/android/.test(o)?"android":"windows"}function g(o,t){return!o||!t?null:o.replace("{url}",encodeURIComponent(t))}function b(o){var l;const{platform:t,urls:p,metadata:s}=o,e=Array.isArray(s==null?void 0:s.enabledApps)?(l=s==null?void 0:s.enabledApps)==null?void 0:l.filter(r=>typeof r=="string"):null,n=y.filter(r=>r.platforms.includes(t)),c=e?n.filter(r=>e.includes(r.id)):n,u=Array.isArray(s==null?void 0:s.customApps)?s.customApps.filter(r=>r&&typeof r=="object").filter(r=>Array.isArray(r.platforms)&&r.platforms.includes(t)).map(r=>({id:String(r.id||""),name:String(r.name||""),icon:String(r.icon||"ðŸ”—"),platforms:r.platforms,description:String(r.description||"Custom client"),usesFormat:r.usesFormat,urlScheme:String(r.urlScheme||r.importScheme||""),storeUrl:r.storeUrl})).filter(r=>r.id&&r.name&&r.urlScheme):[],m=[...c,...u],h=r=>String(p[r||"v2ray"]||"");return m.map(r=>{var a,d;const i=h(r.usesFormat),f=g(r.urlScheme,i),w=(a=r.storeUrl)!=null&&a[t]?String((d=r.storeUrl)==null?void 0:d[t]):"";return{...r,importUrl:f,manualUrl:i,storeLink:w}})}export{y as B,S as d,b as r};
