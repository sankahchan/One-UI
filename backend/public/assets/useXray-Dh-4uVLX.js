import{u as t}from"./useQuery-KR27nzFv.js";import{e as a}from"./index-DrL1zW_A.js";import{u as r}from"./useMutation-DkKyHOPA.js";import{r as n,a as y,b as o,c as l,d as i,e as d,f as c,u as v,h as q,s as p,i as f,j as K,k as x,g,l as X,m as Q,n as m,o as h,p as C,q as F,t as S,v as R,w as U,x as I}from"./xray-DA2VgF-5.js";const D=(e={})=>{const s=e.refetchInterval===void 0?1e4:e.refetchInterval,u=e.staleTime===void 0?5e3:e.staleTime;return t({queryKey:["online-users"],queryFn:g,refetchInterval:s,staleTime:u})},G=()=>t({queryKey:["xray-status"],queryFn:X,refetchInterval:15e3,staleTime:5e3}),H=(e=!1)=>t({queryKey:["xray-config"],queryFn:Q,enabled:e,staleTime:1e4}),j=()=>{const e=a();return r({mutationFn:l,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-status"]}),e.invalidateQueries({queryKey:["xray-config"]}),e.invalidateQueries({queryKey:["online-users"]})}})},w=()=>{const e=a();return r({mutationFn:o,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-status"]}),e.invalidateQueries({queryKey:["xray-config"]}),e.invalidateQueries({queryKey:["online-users"]})}})},B=()=>t({queryKey:["xray-update-policy"],queryFn:m,refetchInterval:3e4,staleTime:1e4}),O=(e=!0)=>t({queryKey:["xray-update-preflight"],queryFn:h,enabled:e,refetchInterval:15e3,staleTime:5e3}),M=(e=1,s=20)=>t({queryKey:["xray-update-history",e,s],queryFn:()=>C({page:e,limit:s}),refetchInterval:15e3,staleTime:5e3}),z=()=>{const e=a();return r({mutationFn:f,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-update-policy"]}),e.invalidateQueries({queryKey:["xray-update-preflight"]}),e.invalidateQueries({queryKey:["xray-update-history"]}),e.invalidateQueries({queryKey:["xray-status"]})}})},A=()=>{const e=a();return r({mutationFn:K,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-update-policy"]}),e.invalidateQueries({queryKey:["xray-update-preflight"]}),e.invalidateQueries({queryKey:["xray-update-history"]}),e.invalidateQueries({queryKey:["xray-status"]}),e.invalidateQueries({queryKey:["xray-config"]}),e.invalidateQueries({queryKey:["online-users"]})}})},E=(e=!0)=>t({queryKey:["xray-update-backups"],queryFn:F,enabled:e,refetchInterval:e?3e4:!1,staleTime:1e4}),J=()=>{const e=a();return r({mutationFn:x,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-update-policy"]}),e.invalidateQueries({queryKey:["xray-update-preflight"]}),e.invalidateQueries({queryKey:["xray-update-history"]}),e.invalidateQueries({queryKey:["xray-update-backups"]}),e.invalidateQueries({queryKey:["xray-status"]}),e.invalidateQueries({queryKey:["xray-config"]}),e.invalidateQueries({queryKey:["online-users"]})}})},L=()=>{const e=a();return r({mutationFn:n,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-update-preflight"]}),e.invalidateQueries({queryKey:["xray-update-policy"]}),e.invalidateQueries({queryKey:["xray-update-history"]})}})},N=()=>{const e=a();return r({mutationFn:y,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-update-preflight"]}),e.invalidateQueries({queryKey:["xray-update-policy"]}),e.invalidateQueries({queryKey:["xray-status"]}),e.invalidateQueries({queryKey:["xray-config"]}),e.invalidateQueries({queryKey:["online-users"]})}})},V=(e=!0)=>t({queryKey:["xray-update-release-intel"],queryFn:()=>i(),enabled:e,refetchInterval:3e5,staleTime:6e4}),W=()=>{const e=a();return r({mutationFn:()=>i({force:!0}),onSuccess:s=>{e.setQueryData(["xray-update-release-intel"],s)}})},Y=(e=!0)=>t({queryKey:["xray-config-snapshots"],queryFn:()=>S({limit:50}),enabled:e,refetchInterval:3e4,staleTime:5e3}),Z=()=>{const e=a();return r({mutationFn:d,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-config-snapshots"]})}})},_=()=>{const e=a();return r({mutationFn:c,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-config-snapshots"]}),e.invalidateQueries({queryKey:["xray-status"]}),e.invalidateQueries({queryKey:["xray-config"]})}})},$=(e=!0)=>t({queryKey:["xray-routing-profile"],queryFn:R,enabled:e,staleTime:1e4}),ee=()=>{const e=a();return r({mutationFn:v,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-routing-profile"]}),e.invalidateQueries({queryKey:["xray-config"]}),e.invalidateQueries({queryKey:["xray-status"]})}})},ae=(e=!0)=>t({queryKey:["xray-geodata-status"],queryFn:()=>U({includeHash:!1}),enabled:e,refetchInterval:6e4,staleTime:5e3}),re=()=>{const e=a();return r({mutationFn:q,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-geodata-status"]}),e.invalidateQueries({queryKey:["xray-config"]}),e.invalidateQueries({queryKey:["xray-status"]})}})},te=(e=!0)=>t({queryKey:["xray-confdir-status"],queryFn:I,enabled:e,refetchInterval:6e4,staleTime:5e3}),se=()=>{const e=a();return r({mutationFn:p,onSuccess:()=>{e.invalidateQueries({queryKey:["xray-confdir-status"]})}})};export{D as a,B as b,L as c,N as d,G as e,H as f,w as g,j as h,M as i,E as j,V as k,W as l,Y as m,Z as n,_ as o,$ as p,ee as q,ae as r,re as s,te as t,O as u,se as v,z as w,A as x,J as y};
