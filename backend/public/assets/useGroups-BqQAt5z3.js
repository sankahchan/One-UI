import{k as n,b as r}from"./index-BBbY-zsF.js";import{u as i}from"./useQuery-BjvbrY8C.js";import{i as l}from"./inbounds-VyV6Q0kf.js";import{u as o}from"./useMutation-Dc8a1YBZ.js";import{g as s}from"./users-CenwKzg4.js";const v=()=>i({queryKey:["inbounds"],queryFn:async()=>(await l.getInbounds()).data,placeholderData:n,staleTime:3e4}),q=(e={})=>i({queryKey:["groups",e],queryFn:()=>s.list(e),placeholderData:n,staleTime:3e4}),m=()=>{const e=r();return o({mutationFn:u=>s.create(u),onSuccess:()=>{e.invalidateQueries({queryKey:["groups"]}),e.invalidateQueries({queryKey:["users"]}),e.invalidateQueries({queryKey:["inbounds"]})}})},K=()=>{const e=r();return o({mutationFn:({id:u,payload:t})=>s.update(u,t),onSuccess:(u,t)=>{e.invalidateQueries({queryKey:["groups"]}),e.invalidateQueries({queryKey:["group",t.id]}),e.invalidateQueries({queryKey:["users"]}),e.invalidateQueries({queryKey:["inbounds"]})}})},g=()=>{const e=r();return o({mutationFn:u=>s.delete(u),onSuccess:()=>{e.invalidateQueries({queryKey:["groups"]}),e.invalidateQueries({queryKey:["users"]}),e.invalidateQueries({queryKey:["inbounds"]})}})},Q=e=>i({queryKey:["user-effective-inbounds",e],queryFn:()=>s.getUserEffectiveInbounds(e),enabled:Number.isInteger(e)&&e>0,staleTime:1e4}),h=e=>i({queryKey:["user-effective-policy",e],queryFn:()=>s.getUserEffectivePolicy(e),enabled:Number.isInteger(e)&&e>0,staleTime:1e4}),S=(e={})=>i({queryKey:["group-policy-templates",e],queryFn:()=>s.listTemplates(e),placeholderData:n,staleTime:3e4}),f=()=>{const e=r();return o({mutationFn:u=>s.createTemplate(u),onSuccess:()=>{e.invalidateQueries({queryKey:["group-policy-templates"]})}})},F=()=>{const e=r();return o({mutationFn:({templateId:u,payload:t})=>s.updateTemplate(u,t),onSuccess:(u,t)=>{e.invalidateQueries({queryKey:["group-policy-templates"]}),e.invalidateQueries({queryKey:["group-policy-template",t.templateId]})}})},T=()=>{const e=r();return o({mutationFn:u=>s.deleteTemplate(u),onSuccess:()=>{e.invalidateQueries({queryKey:["group-policy-templates"]})}})},b=()=>{const e=r();return o({mutationFn:({groupId:u,payload:t})=>s.applyTemplateToGroup(u,t),onSuccess:()=>{e.invalidateQueries({queryKey:["groups"]}),e.invalidateQueries({queryKey:["users"]}),e.invalidateQueries({queryKey:["group-policy-rollouts"]})}})},G=(e={})=>i({queryKey:["group-policy-schedules",e],queryFn:()=>s.listSchedules(e),placeholderData:n,staleTime:15e3}),C=()=>{const e=r();return o({mutationFn:u=>s.createSchedule(u),onSuccess:()=>{e.invalidateQueries({queryKey:["group-policy-schedules"]})}})},P=()=>{const e=r();return o({mutationFn:({scheduleId:u,payload:t})=>s.updateSchedule(u,t),onSuccess:(u,t)=>{e.invalidateQueries({queryKey:["group-policy-schedules"]}),e.invalidateQueries({queryKey:["group-policy-schedule",t.scheduleId]})}})},D=()=>{const e=r();return o({mutationFn:u=>s.deleteSchedule(u),onSuccess:()=>{e.invalidateQueries({queryKey:["group-policy-schedules"]})}})},U=()=>{const e=r();return o({mutationFn:u=>s.runSchedule(u),onSuccess:()=>{e.invalidateQueries({queryKey:["group-policy-schedules"]}),e.invalidateQueries({queryKey:["group-policy-rollouts"]}),e.invalidateQueries({queryKey:["users"]})}})},E=(e={})=>i({queryKey:["group-policy-rollouts",e],queryFn:()=>s.listRollouts(e),placeholderData:n,staleTime:1e4,refetchInterval:15e3});export{q as a,S as b,G as c,E as d,m as e,K as f,g,f as h,F as i,T as j,b as k,C as l,P as m,D as n,U as o,Q as p,h as q,v as u};
